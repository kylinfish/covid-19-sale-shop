<!doctype html>
<html lang="zh-TW">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="covid-19 é˜²ç–«æœŸé–“ï¼Œç¾é£Ÿå•†å®¶å„ªæƒ æ¸…å–®åˆ—è¡¨">
    <meta name="author" content="kylinfish">
    <meta property="og:title" content="COVID19 å°ç£ç¾é£Ÿå„ªæƒ å•†å®¶">
    <meta property="og:description" content="covid-19 é˜²ç–«æœŸé–“ï¼Œç¾é£Ÿå•†å®¶å„ªæƒ æ¸…å–®åˆ—è¡¨">
    <meta property="og:url" content="https://covid19-sale.tw">
    <meta property="og:site_name" content="COVID19 å°ç£ç¾é£Ÿå„ªæƒ å•†å®¶">
    <meta property="og:image" content="/img/og_img.jpg">
    <meta property="article:publisher" content="https://www.facebook.com/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="COVID19 å°ç£ç¾é£Ÿå„ªæƒ å•†å®¶">
    <meta name="twitter:description" content="covid-19 é˜²ç–«æœŸé–“ï¼Œç¾é£Ÿå•†å®¶å„ªæƒ æ¸…å–®åˆ—è¡¨">
    <meta property="twitter:image:src" content="/img/og_img.jpg">
    <title>COVID19 å°ç£ç¾é£Ÿå„ªæƒ å•†å®¶</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
    <style>
        ::-webkit-scrollbar {
            width: 0;
            background: transparent;
        }

        body {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            font-family: PingFangTC, sans-serif;
            background: #EEE;
        }

        * {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
    </style>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0HN2M5MW02"></script>
</head>

<body>
    <a class="h5 px-1"
        href="https://docs.google.com/forms/d/e/1FAIpQLSeUwvAlhrrYDblrKaibyby_urF_q6j5PCCMY0RfISSkvsslvA/viewform">ğŸ‘‰
        åº—å®¶ç”³è«‹è¡¨å–®</a>
    <a class="h5" href="https://xlashie.com">ğŸ¤ å¾®å‹å•†å®¶å®¢æˆ¶ç®¡ç†</a>

    <div class="container">
        <div class="p-3 mt-4 mb-4 bg-light rounded-3">
            <div class="container-fluid">
                <h1 class="display-5 fw-bold">COVID19 å°ç£ç¾é£Ÿå„ªæƒ å•†å®¶</h1>
                <img class="d-none" src="img/og_img.jpg" width="100%">
                <p class="col-md-8 fs-4">
                    é˜²ç–«å¤§å®¶ä¸€èµ·ä¾†ï¼Œå°ç£åŠ æ²¹
                    ğŸ•ğŸğŸ¥ªğŸŒ®ğŸŒ¯ğŸ¥™ğŸ§†ğŸœğŸ¥˜ğŸ¥ƒğŸ¥‚ğŸ¸ğŸ›ğŸ±ğŸ£
                </p>

                <form>
                    <div class="form-group">
                        <label for="exampleFormControlSelect1">åº—å®¶æ€§è³ª</label>
                        <select class="form-control" id="selectedShopType">
                            <option selected value="">å…¨éƒ¨</option>
                            <option>å–®åº—</option>
                            <option>é€£é–</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="exampleFormControlSelect1">å€åŸŸ</label>
                        <select class="form-control" id="selectedZone">
                            <option value="">å…¨éƒ¨</option>
                            <option value="å°åŒ—å¸‚">è‡ºåŒ—å¸‚</option>
                            <option value="ä¸­æ­£å€"> - ä¸­æ­£å€</option>
                            <option value="å¤§åŒå€"> - å¤§åŒå€</option>
                            <option value="ä¸­å±±å€"> - ä¸­å±±å€</option>
                            <option value="è¬è¯å€"> - è¬è¯å€</option>
                            <option value="ä¿¡ç¾©å€"> - ä¿¡ç¾©å€</option>
                            <option value="æ¾å±±å€"> - æ¾å±±å€</option>
                            <option value="å¤§å®‰å€"> - å¤§å®‰å€</option>
                            <option value="å—æ¸¯å€"> - å—æ¸¯å€</option>
                            <option value="åŒ—æŠ•å€"> - åŒ—æŠ•å€</option>
                            <option value="å…§æ¹–å€"> - å…§æ¹–å€</option>
                            <option value="å£«æ—å€"> - å£«æ—å€</option>
                            <option value="æ–‡å±±å€"> - æ–‡å±±å€</option>
                            <option value="æ–°åŒ—å¸‚">æ–°åŒ—å¸‚</option>
                            <option value="æ¿æ©‹å€"> - æ¿æ©‹å€</option>
                            <option value="æ–°èŠå€"> - æ–°èŠå€</option>
                            <option value="æ³°å±±å€"> - æ³°å±±å€</option>
                            <option value="æ—å£å€"> - æ—å£å€</option>
                            <option value="æ·¡æ°´å€"> - æ·¡æ°´å€</option>
                            <option value="é‡‘å±±å€"> - é‡‘å±±å€</option>
                            <option value="å…«é‡Œå€"> - å…«é‡Œå€</option>
                            <option value="è¬é‡Œå€"> - è¬é‡Œå€</option>
                            <option value="çŸ³é–€å€"> - çŸ³é–€å€</option>
                            <option value="ä¸‰èŠå€"> - ä¸‰èŠå€</option>
                            <option value="ç‘èŠ³å€"> - ç‘èŠ³å€</option>
                            <option value="æ±æ­¢å€"> - æ±æ­¢å€</option>
                            <option value="å¹³æºªå€"> - å¹³æºªå€</option>
                            <option value="è²¢å¯®å€"> - è²¢å¯®å€</option>
                            <option value="é›™æºªå€"> - é›™æºªå€</option>
                            <option value="æ·±å‘å€"> - æ·±å‘å€</option>
                            <option value="çŸ³ç¢‡å€"> - çŸ³ç¢‡å€</option>
                            <option value="æ–°åº—å€"> - æ–°åº—å€</option>
                            <option value="åªæ—å€"> - åªæ—å€</option>
                            <option value="çƒä¾†å€"> - çƒä¾†å€</option>
                            <option value="ä¸­å’Œå€"> - ä¸­å’Œå€</option>
                            <option value="æ°¸å’Œå€"> - æ°¸å’Œå€</option>
                            <option value="åœŸåŸå€"> - åœŸåŸå€</option>
                            <option value="ä¸‰å³½å€"> - ä¸‰å³½å€</option>
                            <option value="æ¨¹æ—å€"> - æ¨¹æ—å€</option>
                            <option value="é¶¯æ­Œå€"> - é¶¯æ­Œå€</option>
                            <option value="ä¸‰é‡å€"> - ä¸‰é‡å€</option>
                            <option value="è˜†æ´²å€"> - è˜†æ´²å€</option>
                            <option value="äº”è‚¡å€"> - äº”è‚¡å€</option>
                            <option value="åŸºéš†å¸‚">åŸºéš†å¸‚</option>
                            <option value="æ¡ƒåœ’å¸‚">æ¡ƒåœ’å¸‚</option>
                            <option value="æ–°ç«¹ç¸£">æ–°ç«¹ç¸£</option>
                            <option value="æ–°ç«¹å¸‚">æ–°ç«¹å¸‚</option>
                            <option value="è‹—æ —ç¸£">è‹—æ —ç¸£</option>
                            <option value="å°ä¸­å¸‚">å°ä¸­å¸‚</option>
                            <option value="å—æŠ•ç¸£">å—æŠ•ç¸£</option>
                            <option value="å½°åŒ–ç¸£">å½°åŒ–ç¸£</option>
                            <option value="é›²æ—ç¸£">é›²æ—ç¸£</option>
                            <option value="å˜‰ç¾©ç¸£">å˜‰ç¾©ç¸£</option>
                            <option value="å˜‰ç¾©å¸‚">å˜‰ç¾©å¸‚</option>
                            <option value="å°å—å¸‚">å°å—å¸‚</option>
                            <option value="é«˜é›„å¸‚">é«˜é›„å¸‚</option>
                            <option value="å±æ±ç¸£">å±æ±ç¸£</option>
                            <option value="å®œè˜­ç¸£">å®œè˜­ç¸£</option>
                            <option value="èŠ±è“®ç¸£">èŠ±è“®ç¸£</option>
                            <option value="å°æ±ç¸£">å°æ±ç¸£</option>
                            <option value="æ¾æ¹–ç¸£">æ¾æ¹–ç¸£</option>
                            <option value="é‡‘é–€ç¸£">é‡‘é–€ç¸£</option>
                            <option value="é€£æ±Ÿç¸£">é€£æ±Ÿç¸£</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="exampleFormControlSelect1">æœå‹™é¡å‹</label>
                        <select class="form-control" id="selectedFoodType">
                            <option value="" selected>å…¨éƒ¨</option>
                            <option value="é¤å»³">é¤å»³</option>
                            <option value="é£²æ–™">é£²æ–™</option>
                            <option value="é»å¿ƒ">é»å¿ƒ</option>
                            <option value="ç”Ÿé®®">ç”Ÿé®®</option>
                            <option value="å…¶ä»–">å…¶ä»–</option>
                        </select>
                    </div>
                </form>
            </div>
        </div>
        <div class="col mb-2 text-right">ç¸½å…±æœå°‹åˆ°: <b class="text-info" id="numberOfShop"></b> é–“è³‡æ–™</div>
        <div id="shopList" class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3"></div>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script>
        (function ($) {
            window.dataLayer = window.dataLayer || [];

            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());
            gtag('config', 'G-0HN2M5MW02');

            let items = [];
            const dataSheetURL =
                "https://spreadsheets.google.com/feeds/list/1vCs5Duf5COFuTgEQR5M7qAvWGRhEU8KN8l--zaEdd60/1/public/values?alt=json"

            $.get(dataSheetURL, function (data) {
                let d = data.feed.entry;

                for (let i in d) {
                    let item = {};
                    item.name = d[i].gsx$name.$t;
                    item.address = d[i].gsx$address.$t;
                    item.phone = d[i].gsx$phone.$t;
                    item.description = d[i].gsx$description.$t;
                    item.food_type = d[i].gsx$foodtype.$t;
                    item.shop_type = d[i].gsx$shoptype.$t;
                    item.ended_at = d[i].gsx$endedat.$t;
                    items.push(item);
                }

                items.sort(() => Math.random() - 0.5)
                updateItems(items);
            });

            function updateItems(items) {
                let filterZone = $('#selectedZone').val()
                let filterFoodType = $('#selectedFoodType').val()
                let filterShopType = $('#selectedShopType').val()

                items = items.filter(item =>
                    (filterZone == '' || item.address.indexOf(filterZone) !== -1) &&
                    (filterFoodType == '' || item.food_type.indexOf(filterFoodType) !== -1) &&
                    (filterShopType == '' || item.shop_type.indexOf(filterShopType) !== -1)
                )

                $('#numberOfShop').text(items.length)
                $('#shopList').html('');

                items.forEach(function (item) {
                    const Card = `
                        <div class="col">
                            <div class="card shadow-sm mb-2">
                                <div class="card-body">
                                    <badge class="float-right badge badge-info">${item.food_type}</badge>
                                    <h2>${item.name}</h2>

                                    <pre class="h5 text-danger">${item.description}</pre>
                                    <p><b>å„ªæƒ æˆªæ­¢æ—¥: </b>${item.ended_at}</p>
                                    <p class="description"><b>åœ°å€</b>: ${item.address}</p>

                                    <div class="d-flex justify-content-between align-items-center">
                                        <a href="tel:${item.phone}" class="btn btn-sm btn-primary btn-block">æ‰“é›»è©±é è¨‚</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    $('#shopList').append(Card);
                })
            }

            $("select").change(function () {
                updateItems(items)
            });
        })(jQuery);
    </script>
</body>
</html>